# 문제 세분화 및 작업 분해

당신은 복잡한 소프트웨어 개발 문제를 체계적으로 분해하는 전문가입니다.

## 📋 해결할 문제

```text
$ARGUMENT
```

## 🎯 분해 프로세스

아래 단계를 따라 문제를 체계적으로 분해하고 실행 가능한 작업 목록을 생성하세요.

---

## Step 1: 문제 분석 및 컨텍스트 수집

### 1.1 현재 상황 파악
다음을 확인하세요:
- 관련 파일 및 컴포넌트 탐색 (Glob, Grep 도구 사용)
- 기존 구현 방식 분석
- 데이터 구조 및 타입 정의 확인
- 의존성 및 관련 라이브러리 파악

### 1.2 요구사항 명확화
다음 질문에 답하세요:
- **무엇을** 달성하려고 하는가?
- **왜** 이 작업이 필요한가?
- **어디에** 영향을 미치는가? (파일, 컴포넌트, 데이터)
- **어떻게** 검증할 것인가? (테스트, 확인 방법)

### 1.3 제약 조건 및 리스크
- 기술 스택 제약사항
- 기존 코드와의 호환성
- 성능 고려사항
- 예상되는 어려움 및 불확실성

---

## Step 2: Phase 분류

문제를 **3-5개의 Phase**로 나누세요. 각 Phase는:
- 독립적으로 검증 가능해야 함
- 명확한 완료 기준이 있어야 함
- 의존성 순서를 고려해야 함

### Phase 구분 가이드

**코딩 작업의 경우:**
- Phase 1: 데이터 구조 및 타입 정의
- Phase 2: 핵심 로직 구현
- Phase 3: UI 컴포넌트 구현
- Phase 4: 통합 및 테스트
- Phase 5: 문서화 및 정리

**디버깅/문제해결의 경우:**
- Phase 1: 문제 재현 및 로그 수집
- Phase 2: 원인 추적 (범위 좁히기)
- Phase 3: 가설 검증
- Phase 4: 수정 구현
- Phase 5: 테스트 및 회귀 방지

---

## Step 3: 작업 세분화

각 Phase를 **5-10개의 구체적인 작업**으로 분해하세요.

### 작업 작성 규칙

✅ **좋은 작업 예시:**
- "City 타입에 likes, dislikes 필드 추가"
- "LikeDislikeButton 컴포넌트 생성 (useState로 상태 관리)"
- "login 함수에서 에러 메시지를 상세하게 출력하도록 수정"
- "필터링된 도시 목록을 likes 순으로 정렬하는 로직 추가"

❌ **나쁜 작업 예시:**
- "도시 기능 개선" (너무 모호함)
- "버그 수정" (구체적이지 않음)
- "UI 작업 및 로직 구현 그리고 테스트" (너무 큼, 여러 작업 포함)

### 각 작업의 필수 요소

각 작업은 다음을 포함해야 합니다:

```markdown
- [ ] [동사로 시작하는 구체적인 작업명]
  - 파일: [수정할 파일 경로]
  - 목표: [이 작업의 구체적인 목표]
  - 산출물: [완료 시 생성/변경되는 것]
  - 예상 시간: [5분/15분/30분]
```

### 작업 크기 가이드

- ⚡ 5-10분: 단순 수정, 파일 읽기, 간단한 추가
- 🔨 15-20분: 새 컴포넌트 생성, 함수 구현, 리팩토링
- 🏗️ 25-30분: 복잡한 로직, 여러 파일 수정, 통합

**주의:** 30분 이상 걸릴 것 같은 작업은 더 작게 쪼개세요!

---

## Step 4: 의존성 및 순서 정리

### 작업 순서 결정
- **Critical Path**: 순서대로 해야 하는 작업 (A → B → C)
- **Parallel Tasks**: 동시 진행 가능한 작업 (병렬 실행 가능)
- **Quick Wins**: 빠르게 완료해서 동기부여 (선택적)

### 우선순위 표시
- 🔴 **P0 (Critical)**: 반드시 먼저 해야 함
- 🟡 **P1 (High)**: 중요하지만 순서 유연
- 🟢 **P2 (Normal)**: 일반 우선순위

---

## Step 5: TodoWrite로 작업 목록 생성

이제 TodoWrite 도구를 사용하여 실행 가능한 작업 목록을 생성하세요.

### 작성 형식

```typescript
TodoWrite({
  todos: [
    {
      content: "Phase 1: [Phase 이름]",
      status: "pending",
      activeForm: "Phase 1 작업 중"
    },
    {
      content: "[구체적인 작업 1]",
      status: "pending",
      activeForm: "[작업 1] 수행 중"
    },
    // ... 나머지 작업들
  ]
})
```

### 작업 목록 규칙

1. Phase별로 그룹화
2. 각 작업은 명확하고 실행 가능해야 함
3. 의존성 순서를 고려하여 배치
4. 첫 번째 작업부터 바로 시작 가능해야 함

---

## Step 6: Phase별 검증 체크리스트

각 Phase 완료 시 확인할 사항을 정리하세요.

### 검증 항목 예시

**Phase 1 완료 체크리스트:**
- [ ] TypeScript 컴파일 에러 없음 (`npx tsc --noEmit`)
- [ ] 타입 정의가 올바르게 적용됨
- [ ] 관련 파일들이 수정됨

**Phase 2 완료 체크리스트:**
- [ ] 핵심 기능이 정상 작동
- [ ] 엣지 케이스 처리 완료
- [ ] 콘솔 에러 없음

**Phase 3 완료 체크리스트:**
- [ ] UI가 의도대로 표시됨
- [ ] 반응형 디자인 확인 (모바일/태블릿/데스크톱)
- [ ] 사용자 인터랙션 정상 작동

**Phase 4 완료 체크리스트:**
- [ ] 전체 플로우 테스트 완료
- [ ] ESLint 경고 없음 (`npm run lint`)
- [ ] 빌드 성공 (`npm run build`)

**Phase 5 완료 체크리스트:**
- [ ] 코드 정리 완료 (사용하지 않는 import 제거)
- [ ] 문서 업데이트 (CLAUDE.md, README.md)
- [ ] 커밋 메시지 작성

---

## 🎬 실행 지침

1. **먼저 코드베이스 탐색**: Glob, Grep 도구로 관련 파일 찾기
2. **Phase 구분**: 3-5개로 나누기
3. **작업 세분화**: 각 Phase를 5-10개 작업으로
4. **TodoWrite 생성**: 실행 가능한 작업 목록 만들기
5. **첫 작업 시작**: TodoWrite에서 첫 번째 작업을 in_progress로 변경하고 시작
6. **진행하면서 업데이트**: 완료된 작업은 즉시 completed로 표시

---

## 💡 추가 팁

### 디버깅 작업의 경우

```markdown
1. **재현 단계 문서화**
   - 정확한 에러 메시지 복사
   - 재현 가능한 최소 단계 작성

2. **로그 추가**
   - 의심되는 지점에 console.log 추가
   - 변수 값, 함수 호출 순서 확인

3. **범위 좁히기**
   - 이분 탐색: 절반씩 코드 주석 처리
   - 문제가 발생하는 정확한 위치 특정

4. **가설 목록**
   - 가능한 원인 3-5개 나열
   - 각 가설을 검증할 방법 정의
   - 하나씩 테스트

5. **수정 및 검증**
   - 수정 후 반드시 재현 단계로 테스트
   - 회귀 테스트 (기존 기능 영향 확인)
```

### 큰 기능 구현의 경우

```markdown
1. **Mock 데이터부터 시작**
   - UI를 먼저 만들고 실제 데이터는 나중에

2. **Bottom-up 접근**
   - 작은 컴포넌트/함수부터 만들고 조합

3. **점진적 통합**
   - 한 번에 하나씩 연결하고 테스트

4. **지속적 검증**
   - 매 작업마다 개발 서버로 확인
   - TypeScript 에러 즉시 해결
```

---

## ✅ 최종 확인

작업 분해가 완료되면 다음을 확인하세요:

- [ ] 모든 작업이 명확하고 구체적인가?
- [ ] 각 작업이 30분 이내로 완료 가능한가?
- [ ] 의존성 순서가 올바른가?
- [ ] 첫 번째 작업부터 바로 시작 가능한가?
- [ ] 각 Phase의 완료 기준이 명확한가?
- [ ] TodoWrite로 작업 목록이 생성되었는가?

모든 항목이 체크되었다면, 첫 번째 작업을 시작하세요! 🚀
